{"ast":null,"code":"var _jsxFileName = \"E:\\\\ReactPractice\\\\shopping\\\\src\\\\components\\\\pagination.jsx\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nconst propTypes = {\n  items: PropTypes.array.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  initialPage: PropTypes.number,\n  pageSize: PropTypes.number\n};\nconst defaultProps = {\n  initialPage: 1,\n  pageSize: 10\n};\nconst {\n  itemsData\n} = this.props;\n\nclass Pagination extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pager: {}\n    };\n  }\n\n  componentWillMount() {\n    // set page if items array isn't empty\n    if (itemsData && itemsData.length) {\n      this.setPage(this.props.initialPage);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // reset page if items array has changed\n    if (itemsData !== prevProps.items) {\n      this.setPage(this.props.initialPage);\n    }\n  }\n\n  setPage(page) {\n    var {\n      itemsData,\n      pageSize\n    } = this.props;\n    var pager = this.state.pager;\n\n    if (page < 1 || page > pager.totalPages) {\n      return;\n    } // get new pager object for specified page\n\n\n    pager = this.getPager(itemsData.length, page, pageSize); // get new page of items from items array\n\n    var pageOfItems = itemsData.slice(pager.startIndex, pager.endIndex + 1); // update state\n\n    this.setState({\n      pager: pager\n    }); // call change page function in parent component\n\n    this.props.onChangePage(pageOfItems);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"pagination\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, \"Previous\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, \"1\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, \"2\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, \"3\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"Next\")));\n  }\n\n}\n\nexport default Pagination;","map":{"version":3,"sources":["E:/ReactPractice/shopping/src/components/pagination.jsx"],"names":["React","Component","PropTypes","propTypes","items","array","isRequired","onChangePage","func","initialPage","number","pageSize","defaultProps","itemsData","props","Pagination","constructor","state","pager","componentWillMount","length","setPage","componentDidUpdate","prevProps","prevState","page","totalPages","getPager","pageOfItems","slice","startIndex","endIndex","setState","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst propTypes = {\r\n  items: PropTypes.array.isRequired,\r\n  onChangePage: PropTypes.func.isRequired,\r\n  initialPage: PropTypes.number,\r\n  pageSize: PropTypes.number,\r\n};\r\nconst defaultProps = {\r\n  initialPage: 1,\r\n  pageSize: 10,\r\n};\r\nconst { itemsData } = this.props;\r\nclass Pagination extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { pager: {} };\r\n  }\r\n  componentWillMount() {\r\n    // set page if items array isn't empty\r\n    if (itemsData && itemsData.length) {\r\n      this.setPage(this.props.initialPage);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // reset page if items array has changed\r\n    if (itemsData !== prevProps.items) {\r\n      this.setPage(this.props.initialPage);\r\n    }\r\n  }\r\n  setPage(page) {\r\n    var { itemsData, pageSize } = this.props;\r\n    var pager = this.state.pager;\r\n\r\n    if (page < 1 || page > pager.totalPages) {\r\n      return;\r\n    }\r\n\r\n    // get new pager object for specified page\r\n    pager = this.getPager(itemsData.length, page, pageSize);\r\n\r\n    // get new page of items from items array\r\n    var pageOfItems = itemsData.slice(pager.startIndex, pager.endIndex + 1);\r\n\r\n    // update state\r\n    this.setState({ pager: pager });\r\n\r\n    // call change page function in parent component\r\n    this.props.onChangePage(pageOfItems);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ul className=\"pagination\">\r\n        <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            Previous\r\n          </a>\r\n        </li>\r\n        <li className=\"page-item active\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            1\r\n          </a>\r\n        </li>\r\n        <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            2\r\n          </a>\r\n        </li>\r\n        <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            3\r\n          </a>\r\n        </li>\r\n        <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            Next\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Pagination;\r\n"]},"metadata":{},"sourceType":"module"}